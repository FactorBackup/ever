<ion-header no-border>
	<app-chatheader></app-chatheader>
</ion-header>

<ion-content scrollX="false" scrollY="false">
	<div class="content-wrapper">
		<!-- start header -->
		<div class="header no-border has-toolbar">
			<div class="options">
				<div class="msearchbar">
					<ion-input
						type="text"
						style="margin-left:  20px; width: 291px;"
						placeholder="search for message"
					>
						<ion-button
							style="float: right; margin-right: 10px;"
							fill="clear"
							size="small"
							color="medium"
							(click)="openSearch = !openSearch"
						>
							<ion-icon mode="md" name="search"></ion-icon>
						</ion-button>
					</ion-input>
				</div>
				<!--msearchbar-->
			</div>
			<!--options-->
		</div>

		<!-- show messages -->
		<div class="content-scroll" *ngIf="messages.length > 0">
			<div class="messages" *ngFor="let item of messages">
				<!-- selected icon toggle -->
				<div class="action" *ngIf="getSelection">
					<ion-icon
						color="secondary"
						(click)="item.selected = !item.selected"
						[src]="
							item.selected
								? 'assets/icons/check-square.svg'
								: 'assets/icons/square.svg'
						"
					></ion-icon>
				</div>

				<!-- image of receipeint -->
				<div
					class="image"
					[image-loader]="getSender(item).photoURL"
					(click)="
						goto(routes.people, {
							queryParams: { id: getSender(item).uid }
						})
					"
				></div>

				<!-- details of chat -->
				<div class="detail" (click)="openChat(item.id)">
					<div class="name">{{ getSender(item).displayName }}</div>
					<div class="msg">
						{{
							getLastMessage(item)?.value ||
								'messages-component.start-chatting' | translate
						}}
					</div>
				</div>

				<!--  date and actions button -->
				<div class="date">
					<span>{{ item?.updatedAt?.toDate() | amTimeAgo }}</span>
					<ion-button
						fill="clear"
						*ngIf="!getSelection"
						(click)="options(item)"
						color="medium"
						size="small"
					>
						<ion-icon name="more"></ion-icon>
					</ion-button>
				</div>
			</div>
		</div>

		<app-no-data *ngIf="messages.length === 0"></app-no-data>
	</div>
</ion-content>
<ion-footer class="tabs">
	<ion-button class="friendbutton" color="gray5" (click)="gotofriend()">
		<img class="friend" src="/assets/imgs/friends.png" />
	</ion-button>

	<ion-button class="chatbutton" color="gray5" (click)="gotochat()">
		<img class="chat" src="/assets/imgs/chat.png" />
	</ion-button>
	<ion-button
		class="translatorbutton"
		color="gray5"
		(click)="gototranslator()"
	>
		<img class="translator" src="/assets/imgs/translator.png" />
	</ion-button>
	<ion-button class="paybutton" color="gray5" (click)="gotopay()">
		<img class="pay" src="/assets/imgs/pay.png" />
	</ion-button>
	<ion-button class="settingbutton" color="gray5" (click)="gotosetting()">
		<img class="setting" src="/assets/imgs/setting.png" />
	</ion-button>
</ion-footer>
<!--footer with buttons when you select more than one item 
<ion-footer *ngIf="getSelection">
	<div class="buttons">
		<ion-button size="small" (click)="markAsRead()"
			>Mark as Read</ion-button
		>

		<ion-button size="small" (click)="archieve()" color="secondary"
			>Archieve</ion-button
		>

		<ion-button size="small" (click)="deleteSelected()" color="danger"
			>Delete</ion-button
		>
		<ion-button (click)="getSelection = false" color="dark" fill="clear">
			<ion-icon src="assets/icons/x.svg"></ion-icon>
		</ion-button>
	</div>
</ion-footer>-->
